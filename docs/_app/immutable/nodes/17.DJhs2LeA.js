import"../chunks/disclose-version.Bg9kRutz.js";import"../chunks/legacy.kkaBD5aU.js";import{p as z,aE as D,aF as G,a as I,T as e,Q as i,s as r,c as t,aD as p,aC as K,r as a,aB as $,t as P}from"../chunks/runtime.DsGBqHQz.js";import{s as c}from"../chunks/render.CCZeVr7i.js";import{e as V,i as W}from"../chunks/each.Db-WndtO.js";import{a as F,t as C}from"../chunks/template.BE53hejL.js";import{r as k}from"../chunks/attributes.BXyzePio.js";import{f as X}from"../chunks/events.8SuscgJy.js";import{a as q}from"../chunks/input.BovV3_1x.js";import{p as Y}from"../chunks/event-modifiers.CWmzcjye.js";import{i as Z}from"../chunks/lifecycle.C04MWlPp.js";import{s as ee,a as A,b as se}from"../chunks/store.C0AERBpU.js";import{o as re}from"../chunks/index-client.DuYcl1-B.js";import{u as te,c as B}from"../chunks/register.Dp0EeuB0.js";var ae=C("<p> </p> <p> </p> <p> </p> <p> </p> <br>",1),oe=C('<main class="svelte-1xd8gs1"><!> <div class="container svelte-1xd8gs1"><h1 class="svelte-1xd8gs1">Login</h1> <form><label for="username" class="svelte-1xd8gs1">Användarnamn</label> <input name="username" id="username" type="text" required class="svelte-1xd8gs1"> <label for="password" class="svelte-1xd8gs1">Lösenord</label> <input id="password" type="password" class="svelte-1xd8gs1"> <input type="submit" value="Logga in" class="reg svelte-1xd8gs1"></form> <a href="/registrering">Har du inget konto? Registrera dig</a></div></main>');function $e(E,H){z(H,!1);const y=ee(),w=()=>A(te,"$users_store",y),S=()=>A(B,"$currentUser_store",y),f=p(),g=p();let n=p(""),m=p(""),o=p([]),l;re(()=>{console.log("onmount"),e(f).length>2&&(i(o,JSON.parse(e(f))),console.log(e(o))),e(g).length>2&&(l=JSON.parse(e(g)),console.log("user",l))});function M(){console.log(e(o),e(n),e(m)),e(o).filter(s=>s.username===e(n)&&s.password===e(m)).length>0?(l=e(o).filter(s=>s.username===e(n))[0],se(B,JSON.stringify(l)),console.log(l),location.reload()):alert("Fel användarnamn eller lösenord")}D(()=>w(),()=>{i(f,w())}),D(()=>S(),()=>{i(g,S())}),G(),Z();var d=oe(),L=t(d);V(L,1,()=>e(o),W,(s,u)=>{var N=ae(),x=K(N),Q=t(x,!0);a(x);var b=r(x,2),R=t(b,!0);a(b);var h=r(b,2),T=t(h,!0);a(h);var O=r(h,2),j=t(O,!0);a(O),$(2),P(()=>{c(Q,e(u).username),c(R,e(u).password),c(T,e(u).email),c(j,e(u).color)}),F(s,N)});var U=r(L,2),v=r(t(U),2),_=r(t(v),2);k(_);var J=r(_,4);k(J),$(2),a(v),$(2),a(U),a(d),q(_,()=>e(n),s=>i(n,s)),q(J,()=>e(m),s=>i(m,s)),X("submit",v,Y(M)),F(E,d),I()}export{$e as component};
