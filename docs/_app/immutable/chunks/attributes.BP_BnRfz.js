import{at as T,W as C,D as n,au as I,av as V}from"./runtime.D7Wnj0fX.js";import{b as B,c as D,d as E,e as M}from"./events.DtDyvcPQ.js";import{a as q,n as z,b as G}from"./utils.DW_b4ELl.js";import{c as K}from"./attributes.Jce5emvo.js";function F(s){if(n){var r=!1,i=()=>{if(!r){if(r=!0,s.hasAttribute("value")){var l=s.value;h(s,"value",null),s.value=l}if(s.hasAttribute("checked")){var o=s.checked;h(s,"checked",null),s.checked=o}}};s.__on_r=i,V(i),B()}}function P(s,r){r?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function h(s,r,i,l){var o=s.__attributes??(s.__attributes={});n&&(o[r]=s.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&s.nodeName==="LINK")||o[r]!==(o[r]=i)&&(r==="style"&&"__styles"in s&&(s.__styles={}),r==="loading"&&(s[T]=i),i==null?s.removeAttribute(r):typeof i!="string"&&N(s).includes(r)?s[r]=i:s.setAttribute(r,i))}function H(s,r,i,l,o=!1,v=!1,R=!1){var c=r||{},p=s.tagName==="OPTION";for(var y in r)y in i||(i[y]=null);i.class&&(i.class=K(i.class));var $=N(s),w=s.__attributes??(s.__attributes={});for(const a in i){let t=i[a];if(p&&a==="value"&&t==null){s.value=s.__value="",c[a]=t;continue}var A=c[a];if(t!==A){c[a]=t;var g=a[0]+a[1];if(g!=="$$"){if(g==="on"){const f={},_="$$"+a;let u=a.slice(2);var d=G(u);if(q(u)&&(u=u.slice(0,-7),f.capture=!0),!d&&A){if(t!=null)continue;s.removeEventListener(u,c[_],f),c[_]=null}if(t!=null)if(d)s[`__${u}`]=t,E([u]);else{let L=function(O){c[a].call(this,O)};c[_]=D(u,s,L,f)}else d&&(s[`__${u}`]=void 0)}else if(a==="style"&&t!=null)s.style.cssText=t+"";else if(a==="autofocus")M(s,!!t);else if(a==="__value"||a==="value"&&t!=null)s.value=s[a]=s.__value=t;else if(a==="selected"&&p)P(s,t);else{var e=a;o||(e=z(e));var k=e==="defaultValue"||e==="defaultChecked";if(t==null&&!v&&!k)if(w[a]=null,e==="value"||e==="checked"){let f=s;if(e==="value"){let _=f.defaultValue;f.removeAttribute(e),f.defaultValue=_}else{let _=f.defaultChecked;f.removeAttribute(e),f.defaultChecked=_}}else s.removeAttribute(a);else k||$.includes(e)&&(v||typeof t!="string")?s[e]=t:typeof t!="function"&&(n&&(e==="src"||e==="href"||e==="srcset")||h(s,e,t))}a==="style"&&"__styles"in s&&(s.__styles={})}}}return c}var b=new Map;function N(s){var r=b.get(s.nodeName);if(r)return r;b.set(s.nodeName,r=[]);for(var i,l=s,o=Element.prototype;o!==l;){i=I(l);for(var v in i)i[v].set&&r.push(v);l=C(l)}return r}export{H as a,F as r,h as s};
