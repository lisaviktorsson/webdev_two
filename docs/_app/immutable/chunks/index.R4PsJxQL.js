import{aA as K,F as U,D as d,o as F,aJ as G,al as h,C as m,_ as J,U as b,q as M,O as H,ae as T,a6 as k,aK as A,aL as C,K as D,L as p,aM as O,d as P}from"./runtime.D7Wnj0fX.js";import{H as Z}from"./control.CYgJF_JY.js";const x=0,i=1,y=2;function B(o,u,n,w,L){d&&F();var f=o,E=K(),q=P,a=b,r,t,l,_=(E?H:T)(void 0),I=(E?H:T)(void 0),v=!1;function c(e,s){v=!0,s&&(k(N),A(N),C(q));try{e===x&&n&&(r?D(r):r=m(()=>n(f))),e===i&&w&&(t?D(t):t=m(()=>w(f,_))),e!==x&&r&&p(r,()=>r=null),e!==i&&t&&p(t,()=>t=null),e!==y&&l&&p(l,()=>l=null)}finally{s&&(C(null),A(null),k(null),O())}}var N=U(()=>{if(a!==(a=u())){if(G(a)){var e=a;v=!1,e.then(s=>{e===a&&(h(_,s),c(i,!0))},s=>{if(e===a)throw h(I,s),c(y,!0),I.v}),d?n&&(r=m(()=>n(f))):J(()=>{v||c(x,!0)})}else h(_,a),c(i,!1);return()=>a=b}});d&&(f=M)}function Q(o,u){throw new Z(o,u)}new TextEncoder;export{B as a,Q as e};
