import{S as K,i as Y,s as j,k as p,q as R,a as N,M as G,l as g,m as w,r as z,h as c,c as C,n as b,D as u,b as D,E as Q,T as W,L as U,I as X,R as Z,J as $,o as tt,u as et}from"../chunks/index.562aea48.js";import{e as st,E as at}from"../chunks/elizabot.8379ab6e.js";import{w as H}from"../chunks/index.0c5f0939.js";const nt=(window==null?void 0:window.localStorage.getItem("story_id"))??"1",lt=H(nt);lt.subscribe(l=>{window==null||window.localStorage.setItem("story_id",l)});const ot=(window==null?void 0:window.localStorage.getItem("chat"))??"1",J=H(ot);J.subscribe(l=>{window==null||window.localStorage.setItem("chat",l)});function V(l,n,s){const i=l.slice();return i[7]=n[s],i}function F(l){let n,s,i=l[7].text+"",m,h;return{c(){n=p("article"),s=p("span"),m=R(i),h=N()},l(e){n=g(e,"ARTICLE",{});var f=w(n);s=g(f,"SPAN",{});var o=w(s);m=z(o,i),o.forEach(c),h=C(f),f.forEach(c)},m(e,f){D(e,n,f),u(n,s),u(s,m),u(n,h)},p(e,f){f&1&&i!==(i=e[7].text+"")&&et(m,i)},d(e){e&&c(n)}}}function rt(l){let n,s,i,m,h,e,f,o,E,_,x,v,O,y,T,L,P,S=l[0],r=[];for(let t=0;t<S.length;t+=1)r[t]=F(V(l,S,t));return{c(){n=p("link"),s=p("style"),i=R(`nav {
      margin-left: 10%;
      margin-right: 10%;
    }`),m=N(),h=p("button"),e=R("Reset"),f=N(),o=p("div"),E=p("h1"),_=R("TODO: Complete assignment"),x=N(),v=p("div");for(let t=0;t<r.length;t+=1)r[t].c();O=N(),y=p("form"),T=p("input"),this.h()},l(t){const d=G("svelte-1k9axrf",document.head);n=g(d,"LINK",{rel:!0,href:!0}),s=g(d,"STYLE",{});var a=w(s);i=z(a,`nav {
      margin-left: 10%;
      margin-right: 10%;
    }`),a.forEach(c),d.forEach(c),m=C(t),h=g(t,"BUTTON",{class:!0});var k=w(h);e=z(k,"Reset"),k.forEach(c),f=C(t),o=g(t,"DIV",{class:!0});var I=w(o);E=g(I,"H1",{});var q=w(E);_=z(q,"TODO: Complete assignment"),q.forEach(c),x=C(I),v=g(I,"DIV",{class:!0});var A=w(v);for(let M=0;M<r.length;M+=1)r[M].l(A);A.forEach(c),O=C(I),y=g(I,"FORM",{method:!0});var B=w(y);T=g(B,"INPUT",{type:!0,name:!0}),B.forEach(c),I.forEach(c),this.h()},h(){b(n,"rel","stylesheet"),b(n,"href","/pico.min.css"),b(h,"class",".btn"),b(v,"class","scrollable"),b(T,"type","text"),b(T,"name","text"),b(y,"method","post"),b(o,"class","container")},m(t,d){u(document.head,n),u(document.head,s),u(s,i),D(t,m,d),D(t,h,d),u(h,e),D(t,f,d),D(t,o,d),u(o,E),u(E,_),u(o,x),u(o,v);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(v,null);u(o,O),u(o,y),u(y,T),L||(P=[Q(h,"click",l[1]),W(st.call(null,y,l[4]))],L=!0)},p(t,[d]){if(d&1){S=t[0];let a;for(a=0;a<S.length;a+=1){const k=V(t,S,a);r[a]?r[a].p(k,d):(r[a]=F(k),r[a].c(),r[a].m(v,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=S.length}},i:U,o:U,d(t){c(n),c(s),t&&c(m),t&&c(h),t&&c(f),t&&c(o),X(r,t),L=!1,Z(P)}}}function it(l,n,s){let i,m;$(l,J,_=>s(3,m=_));let h=new at,e=[];tt(()=>{i.length>2?(s(0,e=JSON.parse(i)),console.log(e)):f()});function f(){localStorage.clear(),s(0,e=[{user:"eliza",text:h.getInitial()}]),J.set(JSON.stringify(e))}async function o(_){s(0,e=[...e,{user:"you",text:_}]),J.set(JSON.stringify(e)),await new Promise(x=>setTimeout(x,1e3+Math.random()*1e3)),s(0,e=[...e,{user:"eliza",text:h.transform(_)}])}const E=({form:_,data:x,action:v,cancel:O})=>{O();const y=x.get("text");o(y),_.reset()};return l.$$.update=()=>{l.$$.dirty&8&&(i=m)},[e,f,o,m,E]}class ut extends K{constructor(n){super(),Y(this,n,it,rt,j,{})}}export{ut as component};
