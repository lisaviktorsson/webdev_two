import{S as b,i as k,s as C,k as d,a as w,l as v,m as x,h as _,c as z,n as f,b as P,D as p,T as M,L as y,I as N,q as S,r as A,U as q,u as L}from"../chunks/index.562aea48.js";import{e as O,E as R}from"../chunks/elizabot.531a9b54.js";function I(u,e,l){const r=u.slice();return r[4]=e[l],r[6]=l,r}function T(u){let e,l,r=u[4].text+"",o,i,m;return{c(){e=d("article"),l=d("p"),o=S(r),i=w(),this.h()},l(c){e=v(c,"ARTICLE",{class:!0});var n=x(e);l=v(n,"P",{});var t=x(l);o=A(t,r),t.forEach(_),i=z(n),n.forEach(_),this.h()},h(){f(e,"class",m=q(u[4].user)+" svelte-7aqn8m")},m(c,n){P(c,e,n),p(e,l),p(l,o),p(e,i)},p(c,n){n&1&&r!==(r=c[4].text+"")&&L(o,r),n&1&&m!==(m=q(c[4].user)+" svelte-7aqn8m")&&f(e,"class",m)},d(c){c&&_(e)}}}function U(u){let e,l,r,o,i,m,c,n=u[0],t=[];for(let a=0;a<n.length;a+=1)t[a]=T(I(u,n,a));return{c(){e=d("main"),l=d("section");for(let a=0;a<t.length;a+=1)t[a].c();r=w(),o=d("form"),i=d("input"),this.h()},l(a){e=v(a,"MAIN",{class:!0});var h=x(e);l=v(h,"SECTION",{class:!0});var s=x(l);for(let E=0;E<t.length;E+=1)t[E].l(s);s.forEach(_),r=z(h),o=v(h,"FORM",{method:!0});var g=x(o);i=v(g,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),g.forEach(_),h.forEach(_),this.h()},h(){f(l,"class","svelte-7aqn8m"),f(i,"type","text"),f(i,"name","text"),f(i,"placeholder","Write a message"),f(i,"class","svelte-7aqn8m"),f(o,"method","post"),f(e,"class","svelte-7aqn8m")},m(a,h){P(a,e,h),p(e,l);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,null);p(e,r),p(e,o),p(o,i),m||(c=M(O.call(null,o,u[2])),m=!0)},p(a,[h]){if(h&1){n=a[0];let s;for(s=0;s<n.length;s+=1){const g=I(a,n,s);t[s]?t[s].p(g,h):(t[s]=T(g),t[s].c(),t[s].m(l,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:y,o:y,d(a){a&&_(e),N(t,a),m=!1,c()}}}function $(u,e,l){let r=new R,o=[{user:"eliza",text:r.getInitial()}];async function i(c){l(0,o=[...o,{user:"you",text:c}]),await new Promise(n=>setTimeout(n,1e3+Math.random()*1e3)),l(0,o=[...o,{user:"eliza",text:r.transform(c)}])}return[o,i,({formElement:c,formData:n,action:t,cancel:a})=>{a();const h=n.get("text");i(h)}]}class F extends b{constructor(e){super(),k(this,e,$,U,C,{})}}export{F as component};
